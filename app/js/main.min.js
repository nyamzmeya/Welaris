document.addEventListener("DOMContentLoaded",()=>{function e(){window.innerWidth<=768&&Array.from(document.querySelectorAll(".telephone")).forEach(e=>{e.setAttribute("href","tel:+77956784567")})}e(),window.addEventListener("resize",e),document.querySelector(".hamburger").addEventListener("click",function(){document.querySelector(".btn__hamb--triangle-inverce").classList.toggle("hamb_open"),document.querySelector(".header__overlay").classList.toggle("header__overlay_open"),document.querySelector(".hamburger").classList.toggle("hamburger_open"),document.querySelector(".header__menu").classList.toggle("menu_open")}),document.querySelector(".services_open").onmouseover=function(){document.querySelector(".services").style.display="inline-flex",document.querySelector(".toast_first").classList.remove("toast_visible")},document.querySelector(".services_open").onmouseout=function(){document.querySelector(".services").style.display="none"};let t=document.querySelector(".toast_first");Array.from(document.querySelectorAll(".toast_first_open")).forEach(e=>{e.addEventListener("click",function(){t.classList.add("toast_visible"),"true"==e.dataset.img?t.querySelector(".toast_first__img").style.display="block":t.querySelector(".toast_first__img").style.display="none",t.querySelector(".toast_first__text").innerHTML=`<a href="${e.dataset.href}">${e.dataset.text}</a>`})}),document.querySelector(".toast_first__close").addEventListener("click",function(){t.classList.remove("toast_visible")}),Array.from(document.querySelectorAll(".toast_second__close")).forEach(e=>{e.addEventListener("click",function(e){e.target.closest(".toast").remove()})}),document.getElementById("end-date").valueAsDate=new Date,document.getElementById("start-date").valueAsDate=new Date;const s=new Splide(".programs__carousel",{perPage:1,arrows:!1,pagination:!1}).mount(),n=(Array.from(document.querySelector(".programs__buttons").querySelectorAll(".button")).forEach(e=>{e.addEventListener("click",function(e){s.go(parseInt(e.target.dataset.index)-1)})}),Array.from(document.querySelectorAll(".programs__slide__img")).forEach(e=>{new Splide(e,{perPage:1,pagination:!1}).mount()}),new Splide(".info__floors",{perPage:1,arrows:!1,pagination:!1}).mount());Array.from(document.querySelector(".floors__buttons").querySelectorAll(".button")).forEach(e=>{e.addEventListener("click",function(e){n.go(parseInt(e.target.dataset.index)-1)})});let r=document.querySelector("#number");function o(e){e.keyCode&&(keyCode=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___-__-__",s=0,n=t.replace(/\D/g,""),r=this.value.replace(/\D/g,""),o=t.replace(/[_\d]/g,function(e){return s<r.length?r.charAt(s++)||n.charAt(s):e}),l=(-1!=(s=o.indexOf("_"))&&(s<5&&(s=3),o=o.slice(0,s)),t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&"));(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||47<keyCode&&keyCode<58)&&(this.value=o),"blur"==e.type&&this.value.length<5&&(this.value="")}r.addEventListener("input",o,!1),r.addEventListener("focus",o,!1),r.addEventListener("blur",o,!1),r.addEventListener("keydown",o,!1);let l,a,i,c,d,u,m;for(l=document.getElementsByClassName("custom-select"),a=0;a<l.length;a++){for(c=l[a].getElementsByTagName("select")[0],(d=document.createElement("DIV")).setAttribute("class","select-selected"),d.innerHTML=c.options[c.selectedIndex].innerHTML,l[a].appendChild(d),(u=document.createElement("DIV")).setAttribute("class","select-items select-hide"),i=0;i<c.length;i++)(m=document.createElement("DIV")).innerHTML=c.options[i].innerHTML,m.dataset.index=c.options[i].value,m.addEventListener("click",function(e){for(var t,s,n=this.parentNode.parentNode.getElementsByTagName("select")[0],r=this.parentNode.previousSibling,o=0;o<n.length;o++)if(n.options[o].innerHTML==this.innerHTML){for(n.selectedIndex=o,r.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),s=0;s<t.length;s++)t[s].removeAttribute("class");this.setAttribute("class","same-as-selected");break}r.click()}),m.addEventListener("click",function(e){n.go(parseInt(e.target.dataset.index)-1)}),u.appendChild(m);l[a].appendChild(u),d.addEventListener("click",function(e){e.stopPropagation(),g(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function g(e){let t,s,n,r=[];for(t=document.getElementsByClassName("select-items"),s=document.getElementsByClassName("select-selected"),n=0;n<s.length;n++)e==s[n]?r.push(n):s[n].classList.remove("select-arrow-active");for(n=0;n<t.length;n++)r.indexOf(n)&&t[n].classList.add("select-hide")}document.addEventListener("click",g),sessionStorage.getItem("first")||sessionStorage.setItem("first",!0);let f=document.querySelector(".modal__action");sessionStorage.getItem("first")&&setTimeout(()=>{f.classList.add("is-visible"),sessionStorage.setItem("first","false")},1e4);var _=document.querySelectorAll(".modal-close");Array.from(_).forEach(e=>{e.onclick=function(){e.closest(".modal").classList.remove("is-visible")}}),window.onclick=function(e){e.target.classList.contains("modal-wrapper")||Array.from(document.querySelectorAll(".modal")).forEach(e=>e.classList.remove("is-visible"))}});